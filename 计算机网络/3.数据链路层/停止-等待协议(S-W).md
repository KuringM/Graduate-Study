## 停止-等待协议(S-W)

> S-W: Stop-Wait

- 滑动窗口机制: 单滑动窗口, 发送窗口$W_T=1$, 接收窗口$W_R=1$
- 确认机制:
  - 数据帧、确认帧、帧序号的概念: 首、尾 主要是一些控制信息, 如: 帧定界信息、校验码、帧类型、帧序号 等
  * 确认帧: `ACKi`: 确认帧的数据部分通常很短, 甚至可以为空
  * 若接收方收到i号帧, 且没有检测出"差错", 需要给发送方返回确认帧 ACK_i
- 重传机制:
  - 超时重传 -- 若发送方超时未收到ACKi, 则重传i号帧
- 帧编号
  - 仅需 1bit 给帧"编号"
  - 要求: $W_T + W_R \leqslant 2^{n}$

### S-W实现可靠传输

如果数据帧丢失, 收/发双方会发生什么?

- 发送法发出一个帧后, 发送方需要启动"计时器", 若计时器超时, 就自动重传
- 接收方不回传确认帧

如果收到重复数据帧, 收/发双方会怎么做?

- 帧序号落在接收窗口外: 丢弃重复帧; 返回重复帧的 ACK

如果接收方检测出数据帧有"差错"并将其丢弃, 会发生什么?

- 接收方收到数据帧, 但"检测出差错", 将此帧"丢弃", 且不返回ACK
- 发送方超时未收到 ACK, 自动重传

为什么 S-W 不存在"数据帧失序"问题

- 有帧编号
