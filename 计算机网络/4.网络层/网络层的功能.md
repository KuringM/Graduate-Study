# 网络层的功能

## 异构网络互联

如何理解**异构**? <BR>
每个网经的拓扑结构不同、物理层&链路层的实现不同、主机类型也各不相同

重要的设备: 路由器(Router)

注: 在TCP/IP文献中, 路由器也称为网关(Gateway)

## 路由与转发

路由

- 各个路由器之间相互配合, 规划IP数据报(分组)的最佳转发路径
- 注: 各个路由器需要运行**路由协议**, 最终生成各自的**路由表**

> 注1:接入网络的每台主机至少拥有一个IP地址 <BR>
> 注2:通常, 路由器的每个接口都需要分配一个IP地址(最新技术标准已经取消了这个强制要求)

转发

- 一台路由器, 根据自己的**转发表**, 将收到的IP数据报从合适的接口转发出去
- 注: 转发表=精简版路由表. 更精简的数据结构有助于快速检索

## 拥塞控制

拥塞

- 原因: 网络上出现过量分组, 超负荷, 引起网络性能下降
- 现象: 网络上的分组数增加, 但吞吐量反而降低
- 类比: 节假日路上的车辆增多到一定程度时, 收费站的吞吐量反而降低

拥塞控制方法

- **开环控制**(静态的方法)
  - 在部署网络时, 就提前设计好预防拥塞的方法.
  - 一旦网络系统开始运行, 就不再修改
- **闭环控制**(动态的方法)
  - 动态监视网络状态, 及时发现哪里发生拥塞, 并将拥塞信息传递给相关路由器(如: 通过ICMP)
  - 相关路由器及时调整**路由表**
