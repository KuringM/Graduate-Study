# IPv4地址与NAT

## 最初的IP地址分类方案

![[Pasted image 20250829221742.png]]

### 地址划分

32bit IP 地址的两级结构 = `<网络号>, <主机号>`

> 网络号不定长, 可根据前几个比特判断类别, 从而推测出网络号占多少位

- 在那个年代(1980s), 要求*每台主机、每个路由器接口被分配的IP地址都是全球唯一的*
- 路由器和路由器连接的接口可以不分配IP地址, 但路由器和其他节点连接的接口必须分配IP地址
- 从属于**同一个网络的所有主机、路由器接口的IP地址**网络号**都相同**
- 当一台新主机接入网络时, 需要给它分配一个IP地址、并配置**默认网关**

### 一些特殊用途的IP地址

![[Pasted image 20250829224415.png]]

- 注意: 以上这些特殊地址不能指派给网路中的任何一台主机或路由器**私用**
- 重要结论: 前两行说明, 如果一个网络中, 主机号占 N bit, 那么这个网络中, 最多支持 $2^{N}-2$ 台主机&路由器
