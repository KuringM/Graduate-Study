# 特殊矩阵的压缩存储

> 描述矩阵元素时, 行、列号通常从 1 开始;而描述数组时通常下标从0开始(具体看题目给的条件, 注意审题!)

**压缩存储**: 为多个值相同的元素只分配⼀个空间, 对零元素不分配存储空间, 其⽬的是节省存储空间

**特殊矩阵**:

- 具有许多相同矩阵元素或者零元素, 并且这些相同矩阵元素或零元素的分布有⼀定规律性的矩阵
- 常见的特殊矩阵有对称矩阵、三⻆矩阵(第⼀⾏和最后⼀⾏两个元素, 其余⾏3个元素)、对⻆矩阵
- 常考某个值对应的⾏和列(⽤特殊法代指就好, 不⽤记那么多公式, 可以⽤线性代数的知识解决)

## 对称矩阵的压缩存储

$$
\begin{pmatrix}
	a_{11} & a_{12} & \cdots & a_{1n}\\
	a_{21} & a_{22} & \cdots & a_{2n}\\
	\vdots & \vdots & \ddots  & \vdots\\
	a_{n1} & a_{n2} & \cdots & a_{nn}
\end{pmatrix} \qquad
$$

若 n 阶方阵中任意一个元素 $a_{i,j}$ 都有 $a_{i,j} = a_{j,i}$则该矩阵为对称矩阵.

普通存储: `n*n` 二维数组

压缩存储策略:只存储主对角线+下三角区(或主对角线+上三角区).

### 只存储主对角线+下三角区

按行优先原则将各元素存入一维数组中.

元素下表对应关系:

$$
k=
\begin{cases}
 \frac{i(i-1)}{2} + j -1, & i \geqslant j (下三角区和主对角线元素)\\
 \frac{j(j-1)}{2} + i -1, & i < j ( 上三角区元素 )
\end{cases}
$$

## 三角矩阵的压缩存储

- 下三角矩阵:除了主对角线和下三角区, 其余的元素都相同
- 上三角矩阵:除了主对角线和上三角区, 其余的元素都相同

按行优先的原则, 元素下表对应关系:

$$
k=
\begin{cases}
 \frac{i(i-1)}{2} + j -1, & i \geqslant j (下三角区和主对角线元素)\\
 \frac{n(n+1)}{2}, & i < j ( 上三角区元素 )
\end{cases}
$$

压缩存储策略:按行优先原则将绿色区元素存入一维数组中. 并在最后一个位置存储常量c

![[Pasted image 20250816004717.png]]

## 三对角矩阵的压缩存储

又称带状矩阵:
当 $|i - j|>1$ 时, 有 $a_{i,j} = 0 (1ls i, j \leqslant n)$

$$
\begin{pmatrix}
	a_{11} & a_{12} & 0 &  \cdots & 0 & 0\\
	a_{21} & a_{22} & a_{23} &\cdots & 0 & 0\\
	0 & a_{32} & a_{33} &\cdots & 0 & 0\\
	\vdots & \vdots & \ddots  & \vdots & \vdots & \vdots\\
	0 & 0 & 0 &\cdots & a_{n-1, n-1} & a_{n-1, n}\\
	0 & 0 & 0 &\cdots & a_{n, n-1} & a_{n, n}
\end{pmatrix} \qquad
$$

压缩存储策略: 按行优先(或列优先)原则, 只存储带状部分.

按行优先的原则, 元素下表对应关系:

$$
k=2i +j-3
$$

反之, 某个元素存放在一维数组的第k个位置, 则有 $i = [\frac{k+1}{3}+1], j= k-2i+3$.

> i向下取整

