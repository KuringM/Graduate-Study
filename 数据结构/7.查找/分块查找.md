# 分块查找

## 分块查找的算法思想

![[Pasted image 20250903164025.png]]

**分块查找**, 又称**索引顺序查找**, 数据分块存储, 块内无序、块间有序, 算法过程如下:

1. 在索引表中确定待查记录所属的分块(可顺序、可折半)
2. 先查索引表(顺序或折半)、再对分块内进行顺序查找
   - 若索引表中不包含目标关键字, 则折半查找索引表最终停在 low>high, 要==在low所指分块中查找==

## 查找效率分析(ASL)

![[Pasted image 20250903165845.png]]

设索引查找和块内查找的平均查找长度分别为$L_I、L_S$, 则分块查找的平均查找长度为 $\text{ASL}= L_I+L_S$

用顺序查找查索引表, 则

- $L_I= \frac{1+2+\cdots+b}{b} = \frac{b+1}{2}$
- $L_S= \frac{1+2+\cdots+s}{s} = \frac{s+1}{2}$
- $ASL= \frac{b+1}{2}+ \frac{s+1}{2} \xlongequal{n = sb} \frac{s^2 + 2s+n}{2s}$
- 当$s=\sqrt{n}$时, $ASL_{\min}= \sqrt{n}+1$

用折半查找查索引表, 则

- $L_I= \lceil \log_2(b+1) \rceil$
- $L_S= \frac{1+2+\cdots+s}{s} = \frac{s+1}{2}$
- $ASL= \lceil \log_2(b+1) \rceil+ \frac{s+1}{2}$
