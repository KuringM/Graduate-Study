# 邻接表法(顺序+链式存储)

![[截屏2025-09-03 05.16.17.png]]

```c
#define MaxVertexNum 100 // 图中顶点数目的最大值

// 边表结点
typedef struct ArcNode {
  int adjvex;              // 边/弧指向哪个结点
  struct ArcNode *nextarc; // 指向下一条弧的指针
  // InfoType info; // 边权值
} ArcNode;

// 顶点表结点
typedef struct VNode {
  VertexType data;   // 顶点信息
  ArcNode *firstarc; // 第一条边/弘
} VNode, AdjList[MaxVertexNum];

// 用邻接表存储的图
typedef struct {
  AdjList vertices;   // 邻接表
  int vexnum, arcnum; // 图的顶点树和弧数
} ALGraph;            // ALGraph是以邻接表存储的图类型
```

- 顶点表结点`[data][firstarc]`
- 边表结点 `[adjvex][nextarc]`
- 无向图边结点的数量是$2|E|$, 整体空间复杂度为 $O(|V| + 2|E|)$
- 有向图边结点的数量是$|E|$, 整体空间复杂度为 $O(|V| + |E|)$

## 邻接表 V.S. 邻接矩阵

|           |                                 邻接表                                  |       邻接矩阵        |
| :-------: | :------------------------------------------------------------------: | :---------------: |
|   空间复杂度   | 无向图 $O(\mid V \mid +2 \mid E \mid )$;有向图$O(\mid V \mid+\mid E \mid)$ | $O(\mid V\mid^2)$ |
|   适合用于    |                                存储稀疏图                                 |       存储稠密图       |
|   表示方式    |                                 不唯一                                  |        唯一         |
| 计算度/出度/入度 |                         计算有向图的度、入度不方便, 其余很方便                         |     必须遍历对应行或列     |
|   找相邻的边   |                          找有向图的入边不方便, 其余很方便                           |     必须遍历对应行或列     |
