# 系统调用

## 什么是系统调用, 有何作用?

"系统调用"是操作系统提供给应用程序(程序员/编程人员)使用的接口,可以理解为一种可供应用程序调用的特殊函数,
应用程序可以通过系统调用来请求获得操作系统内核的服务

## 为什么系统调用是必须的?

由操作系统内核对共享资源进行统一的管理, 并向上提供"系统调用" ,
用户进程想要使用打印机这种共享资源, 只能通过系统调用向操作系统内核发出请求.
内核会对各个请求进行协调处理.

## 什么功能要用到系统调用?

应用程序通过系统调用请求操作系统的服务.
而系统中的各种共享资源都由操作系统内核统一掌管,
因此凡是与共享资源有关的操作(如存储分配、I/O操作、文件管理等), 都必须通过系统调用的方式向操作系统内核.

## 系统调用(按功能分类)

- 设备管理 -- 完成设备的 请求/特放/启动 等功能
- 文件管理 -- 完成文件的读写/创建刪除等功能
- 进程控制 -- 完成进程的创建/撤销/阻塞/唤醒 等功能
- 进程通信 -- 完成进程之间的 消息传建/信号传递 等功能
- 内存管理 -- 完成内存的 分配/回收 等功能

## 系统调用的过程

传递系统调用参数 -> 执行陷入指令(用户态) -> 执行相应的内请求核程序处理系统调用(核心态) -> 返回应用程序

注意:

1. 陷入指令是在用户态执行的, 执行陷入指令之后立即引发一个内中断, 使CPU进入核心态.
2. 发出系统调用请求是在用户态, 而对系统调用的相应处理在核心态下进行.

> 注意别名: 陷入指令= trap 指令= 访管指令
